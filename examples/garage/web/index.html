<html>
    <script src="notify.js"></script>
    <script src="bower_components/webcomponentsjs/webcomponents-loader.js"></script>
    <link rel="import" href="bower_components/polymer/polymer.html">
    <link rel="import" href="garage/details.html">
    <body>
        <garage-details id="garage"></garage-details>
        <script>
'use strict';
var slash = document.location.pathname.lastIndexOf("/ui/");
var path = document.location.pathname.substring(0, slash);
var deviceIdTest = /restconf=(.*)$/.exec(path);
var deviceId = '';
if (deviceIdTest.length = 2) {
    deviceId = deviceIdTest[1];
}
var streamUrl = 'ws://' + document.location.host + '/restconf/streams';
var elem = document.getElementById("garage");
elem.setAttribute('deviceid', deviceId);
elem.setAttribute('streamurl', streamUrl);
elem.setAttribute('url', path);
        </script>
    </body>
</html>